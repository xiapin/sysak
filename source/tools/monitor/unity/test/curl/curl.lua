---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liaozhaoyan.
--- DateTime: 2022/12/19 9:26 PM
---

package.path = package.path .. ";../../?.lua;"

local ChttpCli = require("httplib.httpCli")
local system = require("common.system")

local cli = ChttpCli.new()
local res = cli:get("http://127.0.0.1/")
system:dumps(res.head)
print(res.code)
assert(res.code == 200)

local url = "http://127.0.0.1:8400/api/sum"
local req = {num1 = 101, num2 = 2}
local res = cli:postTable(url, req)
print(res.code)
assert(res.code == 200)
system:dumps(res)
print(#res.body)
print(res.body)
local tRes = cli:jdecode(res.body)
assert(tRes.sum == 103.0)
